import org.gradle.nativeplatform.platform.internal.DefaultNativePlatform
import java.lang.module.ModuleFinder;

def currentOS = DefaultNativePlatform.currentOperatingSystem;
def platform = null
if (currentOS.isWindows()) {
    platform = 'win'
} else if (currentOS.isMacOsX()) {
    platform = 'mac'
} else {
    platform = 'linux'
}

if (System.getProperty ("os.arch") == 'aarch64') {
    platform += '-aarch64'
}

def devJavafxVersion = '25-ea+10'

if (!ModuleFinder.ofSystem().find("javafx.base").isPresent()) {
    // Always use maven version for now
    dependencies {
        implementation "org.openjfx:javafx-base:${devJavafxVersion}:${platform}"
        implementation "org.openjfx:javafx-controls:${devJavafxVersion}:${platform}"
        implementation "org.openjfx:javafx-graphics:${devJavafxVersion}:${platform}"
        implementation "org.openjfx:javafx-media:${devJavafxVersion}:${platform}"
        implementation "org.openjfx:javafx-web:${devJavafxVersion}:${platform}"
    }
}
